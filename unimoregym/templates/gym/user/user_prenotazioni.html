
{% extends 'base_page.html' %}
{% load crispy_forms_filters %}
{% load crispy_forms_tags %}

{% load static %}

{% block title %} Unimore training center {% endblock %}

{% block content %}
<div class="container">
    <h1 style="text-align: center">Le tue prenotazioni attive</h1><hr>
    <ul class="list-group">
        {% for prenotazione in prenotazioni %}
            <li class="list-group-item">
                Prenotazione ID: {{ prenotazione.idPrenotazione }} <br>
                Sessione: {{ prenotazione.fk_sessione }} <br>
                Data Prenotazione: {{ prenotazione.data_prenotazione }}<br>
             <form method="post" style="display:inline;" onsubmit="return deleteConfirm();">
              {% csrf_token %}
              <input type="hidden" name="prenotazione_id" value="{{ prenotazione.idPrenotazione }}">
              <button type="submit" class="btn btn-outline-danger">Cancella prenotazione</button>
            </form>
            </li>
        {% empty %}
            <li class="list-group-item">Non hai prenotazioni attive, prenotale <a style="text-underline: auto" href="{% url 'unimoregym:sessioni_disponibili' %}">qui</a> </li>
        {% endfor %}
    </ul>
<br><hr>
</div>

    <script type="text/javascript">
    function deleteConfirm() {
      return confirm('Sei sicuro di voler cancellare questa prenotazione?');
    }
  </script>

{% endblock %}